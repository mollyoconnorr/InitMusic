<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Song Preview</title>
  <script>
      let popupWindow = null;
      //Open the Deezer URL in a popup window
      window.onload = function () {
          const deezerUrl = '[[${deezerUrl}]]';  //Retrieve the Deezer URL from the model

          const width = 400;
          const height = 300;
          const left = (window.innerWidth / 2) - (width / 2);
          const top = (window.innerHeight / 2) - (height / 2);

          //OPen the window
          const popupWindow = window.open(deezerUrl, 'popupWindow', `width=${width},height=${height},top=${top},left=${left},resizable=yes`);
          if (popupWindow) {
              popupWindow.focus();  // Focus the popup window
          } else {
              alert('Popup blocked. Please allow popups for this site.');
          }
      }
  </script>
</head>
<body>
<h1>Redirecting to Song Preview...</h1>
<p>The song preview is opening in a new popup window.</p>
</body>
</html>
