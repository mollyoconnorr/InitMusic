<!DOCTYPE HTML>
<html lang="" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
  <title>Change Password</title>
  <link href="/css/styles.css" rel="stylesheet">
  <script>
      function validatePassword() {
          var password = document.getElementById("newPassword").value;
          var confirmPassword = document.getElementById("confirmPassword").value;

          // Check if the passwords match
          if (password !== confirmPassword) {
              document.getElementById("passwordError").innerHTML = "Passwords do not match!";
              return false; // Prevent form submission
          } else {
              document.getElementById("passwordError").innerHTML = ""; // Clear error if passwords match
          }
          return true;
      }
  </script>
</head>
<body class="body2">
<div class="centered-box">
  <h2>Change Password</h2>
  <form method="post" onsubmit="return validatePassword();" th:action="@{/changePassword}"
        th:object="${NewPasswordForm}">
    <label for="newPassword">New Password:</label><br>
    <input id="newPassword" minlength="8" name="newPassword" placeholder="New Password" required
           type="password"><br><br>

    <label for="confirmPassword">Confirm New Password:</label><br>
    <input id="confirmPassword" name="confirmPassword" placeholder="Retype New Password" required
           type="password"><br><br>


    <!-- Display error message if passwords don't match -->
    <span id="passwordError" style="color:red;"></span><br>
    <button class="btn btn-primary" type="submit">Update Password</button>
  </form>
</div>
</body>
</html>