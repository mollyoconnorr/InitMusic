<!DOCTYPE HTML>
<html lang="" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
  <title>Change Password</title>
  <link href="/css/styles.css" rel="stylesheet">
</head>
<body class="body2">
<div class="centered-box">
  <button class="btn btn-primary" onclick="goBack()" type="button">Back</button>
  <h2>Change Password</h2>
  <form method="post" onsubmit="return validatePassword();" th:action="@{/changePasswordLoggedIn}"
        th:object="${NewPasswordForm}">
    <!-- Old Password -->
    <label for="oldPassword">Old Password:</label><br>
    <input id="oldPassword" name="oldPassword" placeholder="Old Password" required type="password"><br><br>

    <label for="newPassword">New Password:</label><br>
    <input id="newPassword" minlength="8" name="newPassword" placeholder="New Password" required
           type="password"><br><br>

    <label for="confirmPassword">Confirm New Password:</label><br>
    <input id="confirmPassword" name="confirmPassword" placeholder="Retype New Password" required
           type="password"><br><br>

    <!-- Display error message if passwords don't match -->
    <!-- Missing passwordError span -->
    <span id="passwordError" style="color:red;"></span><br>

    <!-- Display error message if passwords don't match -->
    <!-- Error Message Display -->
    <div style="color:red;" th:if="${error}">
      <p th:text="${error}"></p>
    </div>
    <button class="btn btn-primary" type="submit">Update Password</button>
  </form>
</div>
<script src="/js/changePasswordLoggedIn.js"></script>
<script crossorigin="anonymous"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>